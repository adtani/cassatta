{
	"editor": {
		"entityType": "org.taskmgmt.tasks",
		"tabs" : [
			{
				"name": "Tab 1",
				"label": "General",
				"fields" : [
					    {
						    "name":"id",
						    "type":"id",
						    "label":"ID",
						    "required":true 
					    },
					    {
						    "name":"entityType",
						    "type":"entityType",
						    "required":true
					    },
				        {
				        	"name":"owner",
				        	"label": "Owner",
				            "type":"owner",
				            "entityType":"org.users",
					    	"required":true
				        },
				        {
				        	"name":"parent",
				        	"label": "Parent Task",
				            "type":"OTO",
				            "entityType":"org.taskmgmt.tasks",
					    	"required":false
				        },
					    {
						    "name":"title",
						    "label":"Title",
						    "type":"text",
						    "required":true,
						    "searchable":true
					    },
				        {
			        		"name":"assignee",
			        		"label" : "Assignee",
			            	"type":"OTO",
			            	"entityType":"org.users",
					    	"required":true
				        },			    
					    {
						    "name":"summary",
						    "label":"Summary",
						    "type":"textarea",
						    "required":true
						},
					    {
						    "name":"status",
						    "label":"Status",
						    "type":"text",
						    "required":true
					    },
					    {
					    	"name":"priority",
					    	"label":"Priority",
					    	"type":"int",
						    "required":true
					    },
					    {
					    	"name":"dueDate",
					    	"label":"Due Date",
					    	"type":"date",
						    "required":false
					    },
					    { 	
					    	"name":"parentage",
					    	"label":"Parentage",
					    	"display" : false,
					    	"type":"text",
					    	"isCalculated":true,
						    "required":true
					    }
					]
				},
				{
					"name": "Tab 2",
					"label": "Files",
					"fields" : [
				        {
				        	"name":"files",
				        	"label":"File",
				            "type":"OTM",
				            "entityType":"org.taskmgmt.taskfiles",
				            "reverseReference" : "task",
					    	"required":false,
					    	"meta": {
					    		"editor" : {
									"name": "Tab 1.1",
									"label": "Files",
						            "entityType":"org.taskmgmt.taskfiles",
									"tabs" : [
										{
											"name": "Tab 1",
											"label": "Upload File",
							    			"fields" : [
							    				{
										        	"name":"task",
												    "display" : false,
										        	"label": "Task",
										            "type":"OTO",
										            "entityType":"org.taskmgmt.tasks",
											    	"required":true
							    				},
											    {
												    "name":"id",
												    "display" : false,
												    "type":"id",
												    "label": "ID", 
												    "required":true 
											    },			    			
										        {
										        	"name":"owner",
												    "display" : false,
										        	"label": "Owner",
										            "type":"owner",
										            "entityType":"org.users",
											    	"required":true
										        },
											    {
												    "name":"name",
												    "label":"Name",
												    "type":"text",
												    "required":true,
												    "searchable":true
											    },
											    {
												    "name":"path",
												    "label":"File",
												    "type":"file",
												    "required":true,
												    "searchable":true
											    },
											    {
												    "name":"entityType",
												    "type":"entityType",
												    "required":true,
												    "display":false
											    }	    			
							    			]
										}					
									]
					    		}
					    	}
				        }
					]	
				},
				{
					"name": "Tab 3",
					"label": "Comments",
					"fields" : [
				        {
				        	"name":"comments",
				        	"label":"Comments",
				            "type":"OTM",
				            "entityType":"org.taskmgmt.taskcomments",
				            "reverseReference" : "task",
					    	"required":false,
					    	"meta": {
					    		"editor" : {
									"name": "Tab 1.2",
									"label": "Comments",
						            "entityType":"org.taskmgmt.taskcomments",
									"tabs" : [
										{
											"name": "Tab 1.2.1",
											"label": "Comments",
							    			"fields" : [
							    				{
										        	"name":"task",
												    "display" : false,
										        	"label": "Task",
										            "type":"OTO",
										            "entityType":"org.taskmgmt.tasks",
											    	"required":true
							    				},
											    {
												    "name":"id",
												    "display" : false,
												    "type":"id",
												    "label": "ID", 
												    "required":true 
											    },			    			
										        {
										        	"name":"owner",
												    "display" : false,
										        	"label": "Owner",
										            "type":"owner",
										            "entityType":"org.users",
											    	"required":true
										        },
										        {
										        	"name":"assignee",
										        	"label": "Assignee",
										            "type":"OTO",
										            "entityType":"org.users",
											    	"required":true
										        },
											    {
												    "name":"title",
												    "label":"Title",
												    "type":"text",
												    "required":true,
												    "searchable":true
											    },
											    {
												    "name":"text",
												    "label":"Text",
												    "type":"textarea",
												    "required":true,
												    "searchable":true
											    },
											    {
												    "name":"status",
												    "label":"Status",
												    "type":"text",
												    "required":true,
												    "searchable":true
											    },											    
											    {
												    "name":"entityType",
												    "type":"entityType",
												    "required":true,
												    "display":false
											    }	    			
							    			]
										}					
									]
					    		}
					    	}
				        }
					]	
				}											
			]
		},
		
	"listView" : {
		"entityType": "org.taskmgmt.tasksview",
		"urlFilter":  "findByAssigneeIdAndStatusNot?assigneeId=:SESSION_USER_ID&status=DONE",
		"fields": [
	   	    	    { 	"name": "parentage", 
	   	    	    	"displayName": "Parents", 
	   	    	    	"enableCellEdit": false, 
	   	    	    	"allowCellFocus" : false
	   	    	    },
		            { 
		            	"name": "id", 
		            	"displayName":"ID", 
		            	"enableCellEdit": false,
		            	"allowCellFocus" : false
		            },
		            { 
		            	"name": "priority", 
		            	"displayName": "Priority", 
		            	"cellClass": "NEW"
		            },
		            { 
		            	"name": "status", 
		            	"displayName": "Status", 
		            	"enableCellEdit": false, 
		            	"allowCellFocus" : false,
		            	"cellClass": "NEW"
		            },
		            { 
		            	"name": "title", 
		            	"displayName": "Title" 
		            },
		            { 
		            	"name": "assigneeName", 
		            	"displayName": "Assignee", 
		            	"enableCellEdit": false,
		            	"allowCellFocus" : false
		            },
		            { 
		            	"name": "dueDate", 
		            	"displayName": "Due Date", 
		            	"type": "date", 
		            	"cellFilter": "date:\"yyyy-MM-dd\"", 
		            	"enableCellEdit": false,
		            	"allowCellFocus" : false
		            }
		   	    ]
		}	
}